<?xml version="1.0" encoding="UTF-8"?>
<project name="Dragon3D JAXB">
    
    <property file="build.properties"/>
    
    <property name="lib.dir" location="lib" />
    <property name="src.dir" location="src"/>
    
    <path id="classpath-jaxb" >
        <pathelement location="${build.dir}" />
        <fileset dir="${lib.dir}" />
        <fileset dir="${javaee.home}" includes="lib/javaee.jar" /> 
        <fileset dir="${javaee.home}" includes="lib/appserv-rt.jar" />
        <fileset dir="${javaee.home}" includes="lib/appserv-ws.jar" />
    </path>
    
    <target name="jaxb-clean" >
        <delete dir="${src.dir}/net/transformatorhuis/xsd/" failonerror="false"/>
    </target>
    
    <target name="jaxb" depends="jaxb-clean" description="Generate java source files from schema">
        <!-- J2EE needs to be installed on local system for this to work -->
        <taskdef name="xjc" classname="com.sun.tools.xjc.XJCTask">
            <classpath refid="classpath-jaxb" />
        </taskdef>
        <xjc schema="http://dragon3d.berlios.de/rib/xrib.xsd" target="${src.dir}" binding="conf/dragon3d.xml"/>
    </target>
    
</project>